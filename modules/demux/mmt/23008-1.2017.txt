

data_type definitions:

V1 Data Types
-------------

Value		Data Type					Definition of data unit
-----		---------					-----------------------
0x0			MPU							media-aware fragment of hte MPU
0x1			generic object				generic object such as a complete MPU or object of another type
0x2			signalling message			one or more signaling messages or a fragment of a signaling message
0x3			repair symbol				a single complete repair symbol
0x4 ~ 0x9	reserved for iso use		for ISO use
0xA ~ 0xF	reserved for private use	for private use



<10.1> Signalling - General

Eight types of signalling message for package consumption:

	PA:  	package access, contains tables for all tables required for package access
	MPI: 	media presentation information, contains presentation information document
	MPT: 	MMT package table for single package consumption
	CRI: 	clock related information, maps between NTP and MPEG-2 system time clock
	DCI: 	device capability message
	SSWR: 	security software request, request security software for consuming a package or asset
	LS:		licensing signalling, carries license information targeted to a specific MMT receiving entity or group of receivers
	LR: 	license revocation, used for revocation for a user or group of users

Nine types of signalling for package delivery:

	HRBM:	provide information to configure a HRBM operation
	MC:		measurement configuration message, provide information for measurement of delivery quality
	ARQ-AC:	automatic repeat-request (ARQ) configuration message (AC)
	ARQ-AF:	automatic repeat-request (ARQ) feedback message (AF)
	RQF:	reception quality feedback for reporting by MMT receiving entity
	MANF:	NAM feedback bessage, provide information of the NAM parameter by an MMT receving entity
	LDC:	information required to decode and present media data by MMT receiving entity before receving metadata such as movie fragment headers
	HRBMR:	management of MMT de-encapsulation buffer depending on operation mode of client
	ADC:	asset delivery characteristic message, used to configure network delivery resource
	



<10.2> Signalling message format

three common fields, one specific field, message payload:


general format of MMT signalling messages:

syntax							no. bits	mnemonic
------							--------	--------
signalling_message() {	
	message_id					16			uimbsf 		See 10.7 below
	version						8			uimbsf
	
	if(message_id != PA_message && message_id != MPI_message)
		length					16			uimbsf
	else
		length					32
		
	extension
		message_payload {
	}
}
	
	
<10.3.2> PA message

Package Access contains:
	PA Table, 
	MPI Table (complete or subset 0)
	MP Table  (complete or subset 0)
	CRI Table
	DCI Table

PA_message() {
	signaling_message() 		40
	
	extension {
		number_of_tables	N1	8
		for(i=0; i<N1; i++) {
			table_id			8
			table_version		8
			table_length		16
		}	
	}
	
	message_payload {
		for(i=0; i<N1; i++)
			table()
		}		
	}
}

<10.3.7.2> PA table



MPI Message - Media Presentation Information
presentation information document



MPT table: MMT package table


Syntax												Value		No. bits	Mnemonic
------------										--------	---------	---------
MP_table() {
	table_id													8			uimsbf
	version														8
	length														16
	reserved										"11 1111"	6			bslbf
	MP_table_mode
	if ((table_id == 0x20) or (table_id == 0x11)) {				2
    	MMT_package_id {							N1	
      		MMT_package_id_length								8
      		for (i=0; i<N1; i++) {
          		MMT_package_id_byte								8
			}
		}
		
    	MP_table_descriptors {						N2
    		MP_table_descriptors_length							16
   			for (i=0; i<N2; i++) {
				MP_table_descriptors_byte						8
			}
		}
	}
	number_of_assets								N3			8
	for (i=0; i<N3; i++) {
		Identifier_mapping()
		asset_type												32
		reserved									"1111 11"	6
		default_asset_flag										1
		asset_clock_relation_flag								1
		if (asset_clock_relation_flag == 1) {
			asset_clock_relation_id 							8
			reserved								"1111 111"	7
			asset_timescale_flag								1
			if (asset_time_scale_flag == 1) {
	            asset_timescale									32
			} 
		}
		
		asset_location {
        	location_count							N4			8
         	for (i=0; i<N4; i++) {
         		MMT_general_location_info()
			}
		}
     	asset_descriptors {
        	asset_descriptors_length				N5			16
        	for (j=0; j<N5; j++) {
            	asset_descriptors_byte							8
			}
		}
	}
 }
 
 
 10.5.4 GFDT descriptor
 
 
 10.6.1 MMT_general_location_info
 
 
 10.7 ID and tags values
	 
	 Message Identifier (message_id) values
		 
		 Value				Description
		 -----				-----------
		 0x0000				PA message
		 0x0001 ~ 0x0010	MPI message
		 0x0011 ~ 0x0020	MPT message
		 0x0021 ~ 0x01FF	Reserved
		 
		 0x0200				CRI message
		 0x0201				DCI message
		 0x0202				SSWR message
		 0x0203				AL_FEC message
		 0x0204				HRBM message
		 0x0205				MC message
		 0x0206				AC message
		 0x0207				AF message
		 0x0208				RQF message
		 0x0209				ADC message
		 0x020A				HRB removal message
		 0x020B				LS message
		 0x020C				LR message
		 0x020D				NAMF message
		 0x020E				LDC message
		 
		 0x020F ~ 0x6FFF	Reserved for ISO (16 bit)
		 0x7000 ~ 0x7FFF	Reserved for ISO (32 bit)
		 
		 0x8000 ~ 0xFFFF	Reserved for private use
		 
		 
	 
 	Table Identifier (table_id) values
 	
 		Value				Description
 		-----				-----------
 		0x00				PA table
 		0x01				Main PI (subset 0 of MPI table)
 		0x02 ~ 0x0F			Subset 1 MPI table ~ Subset 14 MPI table
 		0x10				Complete MPI table
 		0x11 ~ 0x1F			Subset 0 MP table ~ Subset 14 MP table
 		0x20				Complete MP table
 		0x21				CRI table
 		0x22				DCI table
 		0x23				SIT table
 		0x24 ~ 0x7F			Reserved for ISO (16 bit)
 		0x80 ~ 0xFF			Reserved for private use
 		
 		
 	Descriptor tag values
 	
 		Value				Description
 		-----				-----------
 		0x0000				CRI descriptor
 		0x0001				MPU timestamp descriptor
 		0x0002				Dependency descriptor
 		0x0003				GFDT descriptor
 		0x0004				SI descriptor
 		0x0005 ~ 0x3FFF		ISO 8bit
 		0x4000 ~ 0x6FFF		ISO 16bit
 		0x7000 ~ 0x7FFF		ISO 32bit
 		0x8000 ~ 0xFFFF		Reserved for private use
 		
 		
 		
 		
 
Samples:
 
MPT:

signal message_id: 0x20




0000   01 00 5e 7f 0a 02 00 1c 42 22 fa 9f 08 00 45 00   ..^.....B"ú...E.
0010   00 8b b4 06 40 00 01 11 0a ae c0 a8 00 04 ef ff   ..´.@....®À¨..ïÿ
0020   0a 02 90 8b c7 3a 00 77 f9 e9 61 02 00 00 c1 80   ....Ç:.wùéa...Á.
0030   6b fc 00 07 33 17 02 06 c6 e2 9b ff 3c 01 00 20   kü..3...Æâ.ÿ<.. 
0040   01 00 56 20 01 00 52 fc 05 44 53 42 2d 31 00 00   ..V ..Rü.DSB-1..
0050   02 00 00 00 00 00 00 00 00 10 11 11 11 11 11 11   ................
0060   11 11 11 11 11 11 11 11 11 11 68 65 76 31 fe 01   ..........hev1þ.
0070   00 00 23 00 00 00 00 00 00 00 00 00 00 10 22 22   ..#...........""
0080   22 22 22 22 22 22 22 22 22 22 22 22 22 22 6d 70   """"""""""""""mp
0090   34 61 fe 01 00 00 24 00 00                        4aþ...$..
 
 
 


< ISO/IEC 23008-1:2017 >


notes:  ATSC 3.0 includes additional SI information -

	signalling 
	message_id		Content Type
	-----------		------------
	0x8100			USBD - XML BundleDescriptionMMT
	
	
	
	
	